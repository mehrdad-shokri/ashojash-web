{"version":3,"sources":["ban-user.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ban-user.js","sourcesContent":["var banBtn = $(\"#banUser\")\r\nvar isBanned = banBtn.attr(\"data-user-isBanned\");\r\nvar bannedSentence = \"بن شده\";\r\nvar notBannedSentence = \"عادی\";\r\nif (parseInt(isBanned) == 0) {\r\n    banBtn.text(notBannedSentence)\r\n    banBtn.addClass('follow-btn')\r\n}\r\nelse {\r\n    banBtn.text(bannedSentence);\r\n    banBtn.addClass('btn-danger')\r\n}\r\n\r\n$(\"#banUser\").on('click', function () {\r\n    var userId = $(this).attr(\"data-user-id\");\r\n    var isBanned = banBtn.attr(\"data-user-isBanned\");\r\n    if (parseInt(isBanned) == 0)\r\n        swal({\r\n                title: \"Are you sure?\",\r\n                text: \"You wanna ban this user?\",\r\n                type: \"warning\",\r\n                showCancelButton: true,\r\n                confirmButtonColor: \"#DD6B55\",\r\n                confirmButtonText: \"Yes, ban.\",\r\n                closeOnConfirm: false\r\n            },\r\n            function (isConfirm) {\r\n                if (isConfirm) {\r\n//                                send ajax\r\n//                                on success show succes and\r\n//                                on error show error button\r\n                    $.ajax(\"/owner/user/toggle-ban/\" + userId, {\r\n                        headers: {\r\n                            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n                        },\r\n                        beforeSend: function () {\r\n\r\n                        },\r\n                        dataType: \"json\",\r\n                        success: function (data) {\r\n                            swal({\r\n                                title: \"Success\",\r\n                                text: \"User banned temporarily.\",\r\n                                type: \"success\",\r\n                                timer: 2000,\r\n                                showConfirmButton: false\r\n                            });\r\n                            bannedBtn(banBtn);\r\n                        },\r\n                        error: function () {\r\n                            //show error\r\n                            swal({\r\n                                title: \"Error\",\r\n                                text: \"Something went wrong...\",\r\n                                type: \"error\",\r\n                                confirmButtonText: 'Ok',\r\n                                showConfirmButton: true\r\n                            });\r\n                        },\r\n                        type: \"POST\"\r\n                    });\r\n                }\r\n            });\r\n    else\r\n        swal({\r\n                title: \"Are you sure?\",\r\n                text: \"You wanna permit the user?\",\r\n                type: \"warning\",\r\n                showCancelButton: true,\r\n                confirmButtonColor: \"#DD6B55\",\r\n                confirmButtonText: \"Yes, permit.\",\r\n                closeOnConfirm: false\r\n            },\r\n            function (isConfirm) {\r\n                if (isConfirm) {\r\n                    $.ajax(\"/owner/user/toggle-ban/\" + userId, {\r\n                        headers: {\r\n                            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n                        },\r\n                        beforeSend: function () {\r\n                        },\r\n                        dataType: \"json\",\r\n                        success: function (data) {\r\n                            swal({\r\n                                title: \"Success\",\r\n                                text: \"User permitted temporarily.\",\r\n                                type: \"success\",\r\n                                timer: 2000,\r\n                                showConfirmButton: false\r\n                            });\r\n                        },\r\n                        error: function () {\r\n                            //show error\r\n                            swal({\r\n                                title: \"Error\",\r\n                                text: \"Something went wrong...\",\r\n                                type: \"error\",\r\n                                confirmButtonText: 'Ok',\r\n                                showConfirmButton: true\r\n                            });\r\n                        },\r\n                        type: \"POST\"\r\n                    });\r\n                    notBannedBtn(banBtn);\r\n                }\r\n            });\r\n});\r\nfunction notBannedBtn(btn) {\r\n    banBtn.text(notBannedSentence);\r\n    banBtn.attr(\"data-user-isBanned\", 0);\r\n    banBtn.removeClass(\"btn-danger\");\r\n    banBtn.addClass('btn-success');\r\n}\r\nfunction bannedBtn(btn) {\r\n    banBtn.text(bannedSentence);\r\n    banBtn.attr(\"data-user-isBanned\", 1);\r\n    banBtn.removeClass(\"btn-success\");\r\n    banBtn.addClass('btn-danger');\r\n}"],"sourceRoot":"/source/"}