$(document).ready(function(){function t(){var t=$("#venueSlug").val(),i=$("#review-text").val(),a={"review-text":i,decor:o,cost:n,quality:r,venueSlug:t},s=JSON.stringify(a);$.ajax("/user/review/add",{headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},beforeSend:function(){},dataType:"json",data:{data:s},success:function(t){swal({title:"پایان",text:"مرور شما با موفقیت ثبت شد",type:"success",timer:2e3,showConfirmButton:!1}),e()},error:function(t){console.log(t.status),429==t.status?swal({title:"خطا",text:"ببخشید، برای هر مکان در طول هفته،‌ تنها یک مرور می توانید بنویسید!",type:"error",confirmButtonText:"باشه",showConfirmButton:!0}):swal({title:"خطا",text:"خطایی در ثبت مرور رخ داد دوباره امتحان کنید",type:"error",confirmButtonText:"باشه",showConfirmButton:!0}),e()},type:"POST"})}function e(){$("#js-trigger-review").addClass("hand"),$("#review-section").fadeOut(),$("#review-section").addClass("hidden"),$("#review-hint").removeClass("hidden")}var n=0,r=0,o=0;$(function(){$("#cost-rating").barrating({theme:"bars-1to10",showSelectedRating:!0,fastClicks:!0,wrapperClass:"br-wrapper",onSelect:function(t,e){n=t}}),$("#quality-rating").barrating({theme:"bars-1to10",showSelectedRating:!0,fastClicks:!0,wrapperClass:"br-wrapper",onSelect:function(t,e){r=t}}),$("#decor-rating").barrating({theme:"bars-1to10",showSelectedRating:!0,fastClicks:!0,wrapperClass:"br-wrapper",onSelect:function(t,e){o=t}}),$(".br-current-rating").css("width","150px").css("color","#9E9E9E").css("font-size","15px").css("font-weight","bold")}),$("#js-trigger-review").on("click",function(){return $(this).removeClass("hand"),$("#review-hint").addClass("hidden"),$("#review-section").fadeIn().removeClass("hidden"),!0}),$("#upload-photo-section").click(function(){return $(this).fadeOut().addClass("hidden"),$("#upload-photo-method").fadeIn().removeClass("hidden"),!1}),$("#uploadInstagram").on("click",function(){return!1}),$("#cancel-review").on("click",function(t){return e(),!1}),$("#publish-btn").on("click",function(){var e=$("#review-text"),i=e.val().length;return 70>i?swal({title:"توجه",text:"مرور شما حداقل باید 70 کاراکتر باشد",type:"info",confirmButtonText:"باشه",showConfirmButton:!0}):0==n||0==r||0==o?swal({title:"توجه",text:"فیلدهای ارزیابی الزامی است",type:"info",confirmButtonText:"باشه",showConfirmButton:!0}):t(),!1})});