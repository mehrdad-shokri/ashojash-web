{"version":3,"sources":["add-clock-picker.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add-clock-picker.js","sourcesContent":["$(document).ready(function () {\r\n\r\n        defineStaticSchedules();\r\n        validateInputs();\r\n        updateDeleteBtn(0, $(\".clock-picker-container#0\"));\r\n        $(\"#add-clock-picker\").click(function () {\r\n            var servingHourContainer = $('.serving-hour-container');\r\n            var length = servingHourContainer.children().length;\r\n            servingHourContainer.append(createContainer(length));\r\n            newTimePicker(\"clockPickerFrom\" + length);\r\n            newTimePicker(\"clockPickerTo\" + length);\r\n            addTimePickerFromListener(\"clockPickerFrom\" + length);\r\n            $(\"#\" + length + \".delete-schedule\").on(\"click\", function () {\r\n                $(this).closest(\".clock-picker-container\").remove();\r\n                return false;\r\n            });\r\n        });\r\n        function newTimePicker(elementId) {\r\n            var element = $(\"input#\" + elementId);\r\n            element.timepicker('remove');\r\n            element.timepicker({\r\n                'show2400': true,\r\n                'forceRoundTime': true,\r\n                'disableTextInput': true,\r\n                minTime: new Date(0, 0, 0, 0, 30, 0),\r\n                'timeFormat': 'H:i'\r\n            });\r\n            element.on(\"keypress\", function (event) {\r\n                    event.preventDefault();\r\n                }\r\n            );\r\n            element.on(\"paste\", function (event) {\r\n                    event.preventDefault();\r\n                }\r\n            );\r\n        }\r\n\r\n\r\n        function addTimePickerFromListener(elementId) {\r\n            var timePickerFrom = $(\"#\" + elementId);\r\n            var timePickerTo = timePickerFrom.closest(\".clock-picker-container\").find(\".event\");\r\n\r\n            timePickerFrom.on('change', function () {\r\n                timePickerTo.timepicker('remove');\r\n                timePickerTo.timepicker({\r\n                    'show2400': true,\r\n                    'forceRoundTime': true,\r\n                    'disableTextInput': true,\r\n                    'timeFormat': 'H:i',\r\n                    minTime: $(this).val(), // 11:45:00 AM,\r\n                    maxTime: new Date(0, 0, 0, 24, 0, 0),\r\n                });\r\n                timePickerTo.val(timePickerFrom.val());\r\n            });\r\n        }\r\n\r\n        function updateDeleteBtn(currentId, toAppend) {\r\n            var prevId = currentId - 1;\r\n            var deleteBtn = toAppend.find(\".delete-btn#\" + (prevId));\r\n            //var deleteBtn = document.createElement('span');\r\n            deleteBtn.attr('id', currentId);\r\n            $(document).on('click', '.delete-btn#' + currentId, function () {\r\n                toAppend.remove();\r\n                if ($('.clock-picker-container').length < 50)\r\n                    $(\"#add-clock-picker\").removeClass('hidden');\r\n            });\r\n            toAppend.prepend(deleteBtn);\r\n        }\r\n\r\n\r\n        function validateInputs() {\r\n            $(\"button[type=submit]\").on('click', function (e) {\r\n                var button = $(this);\r\n                var re = /^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;\r\n\r\n                // do other things for a valid form\r\n                $(\":input.ui-timepicker-input\").each(function () {\r\n                        if (!re.test($(this).val())) {\r\n                            swal({\r\n                                title: \"خطا\",\r\n                                text: \" ساعات کسب و کار خود را کنترل کنید\",\r\n                                type: \"error\",\r\n                                showConfirmButton: true,\r\n                                confirmButtonText: \"باشه\",\r\n                            });\r\n                            e.preventDefault();\r\n                            $(this).parent().addClass(\"has-error\");\r\n                        }\r\n                    }\r\n                );\r\n\r\n            });\r\n        }\r\n\r\n        function defineStaticSchedules() {\r\n            var container = $(\".static-serving-hour-container\");\r\n            container.find(\"input\").each(function () {\r\n                newTimePicker($(this).attr(\"id\"));\r\n            });\r\n            container.find(\".listener\").each(function () {\r\n                addTimePickerFromListener($(this).attr(\"id\"));\r\n            });\r\n            container.find(\".delete-btn\").each(function () {\r\n                $(this).on(\"click\", function () {\r\n                    $(this).closest(\".clock-picker-container\").remove();\r\n                });\r\n            })\r\n            defineDeleteBtns();\r\n        }\r\n\r\n        function defineDeleteBtns() {\r\n\r\n        }\r\n\r\n        function createContainer(length) {\r\n            var element = $(document.createElement('div'));\r\n            element.addClass(\"col-xs-12 float-children-right clock-picker-container top-xs-20\");\r\n            element.attr(\"id\", length);\r\n            var dayPickerContainer = $(document.createElement(\"div\"));\r\n            //\r\n            dayPickerContainer.addClass(\"col-xs-2 rtl p0\");\r\n            var daySelect = $(document.createElement(\"select\"));\r\n            daySelect.addClass(\"day-picker\");\r\n            daySelect.attr(\"id\", \"day\" + length);\r\n            daySelect.attr(\"name\", \"day[]\");\r\n\r\n            var dayOption = $(document.createElement(\"option\"));\r\n            var day1 = dayOption.clone();\r\n            var day2 = dayOption.clone();\r\n            var day3 = dayOption.clone();\r\n            var day4 = dayOption.clone();\r\n            var day5 = dayOption.clone();\r\n            var day6 = dayOption.clone();\r\n            var day7 = dayOption.clone();\r\n            day1.attr(\"value\", 6);\r\n            day1.text(\"شنبه\");\r\n            day2.attr(\"value\", 0);\r\n            day2.text(\"یکشنبه\");\r\n            day3.attr(\"value\", 1);\r\n            day3.text(\"دوشنبه\");\r\n            day4.attr(\"value\", 2);\r\n            day4.text(\"سه شنبه\");\r\n            day5.attr(\"value\", 3);\r\n            day5.text(\"چهارشنبه\");\r\n            day6.attr(\"value\", 4);\r\n            day6.text(\"پنج شنبه\");\r\n            day7.attr(\"value\", 5);\r\n            day7.text(\"جمعه\");\r\n            daySelect.append(day1);\r\n            daySelect.append(day2);\r\n            daySelect.append(day3);\r\n            daySelect.append(day4);\r\n            daySelect.append(day5);\r\n            daySelect.append(day6);\r\n            daySelect.append(day7);\r\n            dayPickerContainer.append(daySelect);\r\n            //\r\n            var from = $(document.createElement(\"div\"));\r\n            from.addClass(\"col-xs-1 text-center  left-xs-20 p0\");\r\n            var fromChar = $(document.createElement(\"span\"));\r\n            fromChar.addClass(\"left\");\r\n            fromChar.addClass(\"time-picker-hint\");\r\n            fromChar.text(\"از\");\r\n            from.append(fromChar);\r\n            //\r\n            var clockPickerFrom = $(document.createElement(\"div\"));\r\n            clockPickerFrom.addClass(\"col-xs-3 p0 ltr\");\r\n            var clockPickerInnerFrom = $(document.createElement(\"div\"));\r\n            clockPickerInnerFrom.addClass(\"input-group clockpicker\");\r\n            var clockPickerInputFrom = $(document.createElement(\"input\"));\r\n            clockPickerInputFrom.addClass(\"form-control listener\");\r\n            clockPickerInputFrom.attr(\"id\", \"clockPickerFrom\" + length);\r\n            clockPickerInputFrom.attr(\"value\", \"\");\r\n            clockPickerInputFrom.attr(\"name\", \"clockPickerFrom[]\");\r\n            //\r\n            var clockPickerIconContainer = $(document.createElement(\"span\"));\r\n            clockPickerIconContainer.addClass(\"input-group-addon\");\r\n            var clockIcon = $(document.createElement(\"span\"));\r\n            clockIcon.addClass(\"fa fa-clock-o\");\r\n            clockPickerIconContainer.append(clockIcon);\r\n            //\r\n            clockPickerInnerFrom.append(clockPickerInputFrom);\r\n            clockPickerInnerFrom.append(clockPickerIconContainer);\r\n            clockPickerFrom.append(clockPickerInnerFrom);\r\n            /*\r\n             *\r\n             * */\r\n            //\r\n            var to = $(document.createElement(\"div\"));\r\n            to.addClass(\"col-xs-1 text-center\");\r\n            var toChar = $(document.createElement(\"span\"));\r\n            toChar.addClass(\"left\");\r\n            toChar.addClass(\"time-picker-hint\");\r\n            toChar.text(\"تا\");\r\n            to.append(toChar);\r\n            //\r\n            //\r\n            var clockPickerTo = $(document.createElement(\"div\"));\r\n            clockPickerTo.addClass(\"col-xs-3 p0 ltr\");\r\n            var clockPickerInnerTo = $(document.createElement(\"div\"));\r\n            clockPickerInnerTo.addClass(\"input-group clockpicker\");\r\n            var clockPickerInputTo = $(document.createElement(\"input\"));\r\n            clockPickerInputTo.addClass(\"form-control event\");\r\n            clockPickerInputTo.attr(\"id\", \"clockPickerTo\" + length);\r\n            clockPickerInputTo.attr(\"value\", \"\");\r\n            clockPickerInputTo.attr(\"name\", \"clockPickerTo[]\");\r\n            //\r\n            var clockPickerIconContainer = $(document.createElement(\"span\"));\r\n            clockPickerIconContainer.addClass(\"input-group-addon\");\r\n            var clockIcon = $(document.createElement(\"span\"));\r\n            clockIcon.addClass(\"fa fa-clock-o\");\r\n            clockPickerIconContainer.append(clockIcon);\r\n            //\r\n            clockPickerInnerTo.append(clockPickerInputTo);\r\n            clockPickerInnerTo.append(clockPickerIconContainer);\r\n            clockPickerTo.append(clockPickerInnerTo);\r\n            //\r\n            element.append(dayPickerContainer);\r\n            element.append(from);\r\n            element.append(clockPickerFrom);\r\n            element.append(to);\r\n            element.append(clockPickerTo);\r\n            //\r\n            var deleteBtnContainer = $(document.createElement(\"div\"));\r\n            deleteBtnContainer.addClass(\"col-xs-1\");\r\n            var deleteBtn = $(document.createElement(\"span\"))\r\n            deleteBtn.attr(\"id\", length);\r\n            deleteBtn.addClass(\"icon ion-trash-b  delete-btn delete-schedule col-xs-1\");\r\n            deleteBtnContainer.append(deleteBtn);\r\n            element.append(deleteBtnContainer);\r\n            return element;\r\n\r\n        }\r\n    }\r\n)\r\n;\r\n"],"sourceRoot":"/source/"}