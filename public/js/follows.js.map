{"version":3,"sources":["follows.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"follows.js","sourcesContent":["$(document).ready(function () {\r\n    styleBtnPadding();\r\n    $(\".user-follow-btn\").click(function () {\r\n        var clickedItem = $(this);\r\n        var isFollowing = $(this).attr('data-isFollowing') === \"1\";\r\n        var clickedSpan = $(this);\r\n        var iElement = clickedSpan.find(\"i\");\r\n        var uId = $(this).attr('data-uId');\r\n        if (isFollowing) {\r\n            sendUnfollowRequest(uId, iElement, clickedItem);\r\n        }\r\n        else {\r\n            sendFollowRequest(uId, iElement, clickedItem);\r\n        }\r\n    });\r\n\r\n    function sendFollowRequest(uId, iElement, clickedItem) {\r\n        $.ajax('/user/follow/' + uId, {\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            },\r\n            beforeSend: function () {\r\n                setPending(clickedItem);\r\n            },\r\n            data: function () {\r\n\r\n            },\r\n            success: function (data) {\r\n                iElement.removeClass(\"ion-ios-personadd-outline\");\r\n                iElement.addClass(\"ion-checkmark-round\");\r\n                reverseIsFollowing(clickedItem);\r\n                styleBtnPadding();\r\n            },\r\n            error: function () {\r\n                styleBtnPadding();\r\n            },\r\n            type: \"POST\"\r\n        });\r\n    }\r\n\r\n    function sendUnfollowRequest(uId, iElement, clickedItem) {\r\n        $.ajax('/user/unfollow/' + uId, {\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            },\r\n            data: function () {\r\n\r\n            },\r\n            beforeSend: function () {\r\n                setPending(clickedItem);\r\n            },\r\n            success: function (data) {\r\n                iElement.removeClass(\"ion-checkmark-round\");\r\n                iElement.addClass(\"ion-ios-personadd-outline\");\r\n                reverseIsFollowing(clickedItem);\r\n                styleBtnPadding();\r\n            },\r\n            error: function () {\r\n                styleBtnPadding();\r\n            },\r\n            type: \"DELETE\"\r\n\r\n        });\r\n    }\r\n\r\n    function styleBtnPadding() {\r\n        $(\".user-follow-btn:has('i.ion-ios-personadd-outline')\").css('padding', '13px 4px 0px');\r\n        $(\".user-follow-btn:has('i.ion-checkmark-round')\").css('padding', '13px 2px 1px');\r\n        $(\".user-follow-btn\").css('border', '1px solid #A7A5A5');\r\n\r\n    }\r\n\r\n    function setPending(clickedItem) {\r\n        clickedItem.css('border', '1px solid #bc3135');\r\n\r\n    }\r\n\r\n    function reverseIsFollowing(clickedItem) {\r\n        var isFollowing = clickedItem.attr('data-isFollowing') === \"1\";\r\n        clickedItem.attr('data-isFollowing', !isFollowing ? \"1\" : \"0\");\r\n    }\r\n});\r\n\r\n$(document).ready(function () {\r\n    styleBtn($(\".social-primary-btn\"));\r\n    $(\".social-primary-btn\").click(function () {\r\n        var clickedItem = $(this);\r\n        var isFollowing = $(this).attr('data-isFollowing') === \"1\";\r\n        var uId = $(this).attr('data-uId');\r\n        if (isFollowing) {\r\n            sendUnfollowRequest(uId, clickedItem);\r\n        }\r\n        else {\r\n            sendFollowRequest(uId, clickedItem);\r\n        }\r\n    });\r\n\r\n    function sendFollowRequest(uId, clickedItem) {\r\n        $.ajax('/user/follow/' + uId, {\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            },\r\n            beforeSend: function () {\r\n                setPending(clickedItem);\r\n            },\r\n            data: function () {\r\n\r\n            },\r\n            success: function (data) {\r\n                reverseIsFollowing(clickedItem);\r\n                styleBtn(clickedItem);\r\n            },\r\n            error: function () {\r\n                reversePending(clickedItem);\r\n            },\r\n            type: \"POST\"\r\n        });\r\n    }\r\n\r\n\r\n    function sendUnfollowRequest(uId, clickedItem) {\r\n        $.ajax('/user/unfollow/' + uId, {\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            },\r\n            data: function () {\r\n\r\n            },\r\n            beforeSend: function () {\r\n                setPending(clickedItem);\r\n            },\r\n            success: function (data) {\r\n                reverseIsFollowing(clickedItem);\r\n                styleBtn(clickedItem);\r\n\r\n            },\r\n            error: function () {\r\n                reversePending(clickedItem);\r\n            },\r\n            type: \"DELETE\"\r\n\r\n        });\r\n    }\r\n\r\n\r\n    function setPending(clickedItem) {\r\n        if (clickedItem.attr('data-isFollowing') === \"1\") {\r\n            clickedItem.text('فالو');\r\n        }\r\n        else {\r\n            //clickedItem.css('background-color', '#52E71C');\r\n            clickedItem.text('در حال دنبال کردن');\r\n        }\r\n        /*background-color: green;*/\r\n    }\r\n\r\n    function reversePending(clickedItem) {\r\n        if (clickedItem.attr('data-isFollowing') === \"0\") {\r\n            clickedItem.text('فالو');\r\n        }\r\n        else {\r\n            //clickedItem.css('background-color', '#52E71C');\r\n            clickedItem.text('در حال دنبال کردن');\r\n        }\r\n    }\r\n\r\n    function styleBtn(clickedItem) {\r\n        if (clickedItem.attr('data-isFollowing') === \"0\") {\r\n            clickedItem.removeClass(\"unfollow-btn\")\r\n            clickedItem.addClass(\"follow-btn\");\r\n            clickedItem.text('فالو');\r\n        }\r\n        else {\r\n            clickedItem.removeClass(\"follow-btn\");\r\n            clickedItem.addClass(\"unfollow-btn\");\r\n            clickedItem.text('در حال دنبال کردن');\r\n        }\r\n    }\r\n\r\n    function reverseIsFollowing(clickedItem) {\r\n        var isFollowing = clickedItem.attr('data-isFollowing') === \"1\";\r\n        clickedItem.attr('data-isFollowing', !isFollowing ? \"1\" : \"0\");\r\n    }\r\n});\r\n"],"sourceRoot":"/source/"}